define(["logBee","jquery","js/components/CountdownButton"],function(t,o,s){window.onRegisterComplete=function(e,n){t.toggleFormLoading(this,!1),"success"!==n&&t.showXhrErrorToast(e),"success"===n&&i(e)},window.onResendRegistrationLinkComplete=function(e,n){t.toggleFormLoading(this,!1),"success"!==n&&t.showXhrErrorToast(e),"success"===n&&(r&&r.destroy(),o("#resend-form").parent().html('<div><button type="button" class="btn btn-sm btn-primary disabled" disabled>The registration link has been resent</button></div>'))};let r=null;const i=function(e){var n=o("#registration-container"),e=(n.html(e.responseText),t.htmlDecode(n.find("#registration-result").html())),e=JSON.parse(e);t.bindForm("resend-form"),0<e.resendResetInSeconds&&new s({$button:n.find("button[type=submit]"),seconds:e.resendResetInSeconds})};return{init:function(){t.bindForm("form"),t.reCaptcha.bindForm("#form"),document.getElementById("EmailAddress").focus()}}});