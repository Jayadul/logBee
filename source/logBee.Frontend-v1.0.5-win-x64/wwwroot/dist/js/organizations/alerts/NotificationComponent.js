define(["logBee","jquery","ko","js/templates"],function(i,n,o,s){const l={$container:n({}),title:"",description:"",placeholder:"",formTextHtml:"",validateValue:function(){return!0}};function t(t){const a=this;this.options=n.extend(!0,{},l,t);var t=s.renderTemplate("organizations-alerts-notificationComponent",{title:this.options.title,description:this.options.description,placeholder:this.options.placeholder,formTextHtml:this.options.formTextHtml}),t=(this.options.$container.html(t.html),this.cardId="alertNotificationCard_"+t.id,this.formId="alertNotificationForm_"+t.id,n("#"+this.cardId)),e=n("#"+this.formId);i.bindForm(this.formId),e.data("validator").settings.submitHandler=function(t,e){var i,t=n(t).find("[name=input]"),o=t.val().trim();return a.options.validateValue(o)?(i=o,(o=a).viewModel.values().some(t=>t.toLowerCase()===i.toLowerCase())||o.viewModel.values.push(i),o.viewModel.isEnabled(!0),t.val("").focus()):(n.validator.defaults.highlight(t[0]),t.focus()),!1},e.find("[name=input]").on("blur",function(){n(this).val().trim()||n.validator.defaults.unhighlight(this)}),t.on("click","[data-remove-button]",function(t){t.preventDefault();const e=n(this).closest("[data-id]").attr("data-id");a.viewModel.values.remove(t=>t.toLowerCase()===e.toLowerCase())}),t.on("click","[data-header]",function(t){if(/^(input|label)$/i.test(t.target.tagName))return!0;a.viewModel.isEnabled(!a.viewModel.isEnabled())}),this.viewModel={isEnabled:o.observable(!1),values:o.observableArray()},this.viewModel.isEnabled.subscribe(function(){a._updateIsEnabledUi()}),o.applyBindings(this.viewModel,this.options.$container[0]),this._updateIsEnabledUi()}return t.prototype._updateIsEnabledUi=function(){var t=n("#"+this.cardId),e=t.find("[data-title]"),i=this.viewModel.isEnabled(),e=(e.toggleClass("text-primary",i),t.toggleClass("border-primary",i),t.find("[name=input]"));n.validator.defaults.unhighlight(e[0])},t.prototype.getData=function(){return{isEnabled:this.viewModel.isEnabled(),values:this.viewModel.values()}},t.prototype.setData=function(t,e){this.viewModel.isEnabled(t),this.viewModel.values(e||[])},t});