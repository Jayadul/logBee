define(["jquery"],function(o){const n={$button:o({}),seconds:4,onComplete:function(){}};function t(t){t=o.extend(!0,{},n,t),this.$button=t.$button,this.$button.data("countdownButton.onComplete",t.onComplete||function(){}),this.$button.attr("data-text",this.$button.text()),this.$button.attr("data-countdown",t.seconds),this.$button.prop("disabled",!0).addClass("disabled"),this._refresh()}return t.prototype._refresh=function(){const t=this;var o,n=this.$button.attr("data-text"),e=+this.$button.attr("data-countdown");e<=0?(o=this.$button.data("countdownButton.onComplete"),t.destroy(),o.apply(this,[this.$button])):(this.$button.text(n+" ("+e+")"),this.$button.attr("data-countdown",e-1),this.$button.data("countdownButton.timeout",setTimeout(function(){t._refresh()},1e3)))},t.prototype.destroy=function(){var t=this.$button.data("countdownButton.timeout"),t=(clearTimeout(t),this.$button.attr("data-text"));this.$button.text(t),this.$button.prop("disabled",!1).removeClass("disabled"),this.$button.removeData("countdownButton.onComplete"),this.$button.removeData("countdownButton.timeout"),this.$button.removeAttr("data-text"),this.$button.removeAttr("data-countdown")},t});