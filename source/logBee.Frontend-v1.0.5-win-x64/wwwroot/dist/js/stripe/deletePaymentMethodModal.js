define(["logBee","jquery","ko","js/components/Modal","js/components/CountdownButton"],function(i,e,d,t,s){const a="deletePaymentMethodModal";let c=function(){};window.onDeletePaymentMethodComplete=function(n,e){i.toggleFormLoading(this,!1),"success"!==e&&i.showXhrErrorToast(n),"success"===e&&c.apply(this,[n.responseJSON,window[a]])};function n(o){(o=e.extend(!0,{},l,o)).onComplete&&(c=function(){o.onComplete.apply(this,arguments),c=function(){}});var n=new t;n.events.on(t.EVENT_TYPES.build,function(n){window[a]=n.instance;var e=n.instance,t=n.instance.getElement();i.bindForm("delete-payment-method-form"),n.instance._countdownButton=new s({$button:n.instance.getElement().find("button[type=submit]"),seconds:3}),e._viewModel={paymentMethod:o.paymentMethod},d.applyBindings(e._viewModel,t[0])}),n.events.on(t.EVENT_TYPES.destroy,function(n){delete window[a],n.instance._countdownButton&&n.instance._countdownButton.destroy();var e=n.instance.getElement();d.disposeKoViewModel(n.instance._viewModel,e)}),n.load("/Stripe/DeletePaymentMethodModal",{organizationId:o.organizationId,paymentMethodId:o.paymentMethodId})}const l={organizationId:"",paymentMethodId:"",paymentMethod:null,onComplete:function(){}};return new function(){this.open=n}});